
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A Python-first agentic framework for R&D workflows — graph_fn, Context services, Tools, Graphify.">
      
      
        <meta name="author" content="AIperture">
      
      
        <link rel="canonical" href="https://your-domain.com/reference/context-planner/">
      
      
        <link rel="prev" href="../context-indices/">
      
      
        <link rel="next" href="../context-skills/">
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>context.planner() - AetherGraph</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../assets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="aether-light" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#contextplanner-nodeplanner-for-typed-dag-planning" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AetherGraph" class="md-header__button md-logo" aria-label="AetherGraph" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AetherGraph
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              context.planner()
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="aether-light" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="aether-dark" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/AIperture/aethergraph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    AIperture/aethergraph
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AetherGraph" class="md-nav__button md-logo" aria-label="AetherGraph" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    AetherGraph
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/AIperture/aethergraph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    AIperture/aethergraph
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quickstart
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Key Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Key Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/agent-via-graph-fn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent via Graph Function
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/context-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context Services Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/channels-interaction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Channels and Interaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/artifacts-memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Artifacts and Memory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/other-services-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other Services Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/extending-context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extending Context
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/static-graph-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Static Graph Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/server-start-sidecar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sidecar Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/concurrency-orchestration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Concurrency and Orchestration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t1-build-your-first-graph-fn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Building Your First Graph Function Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t2-static-graph-with-graphify/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. Static Graph with Graphify
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t3-talk-to-your-graph-channels-waits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Talk to Your Graph - Channels & Wait Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t4-store-recall-artifacts-memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Store and Recall - Artifacts & Memory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t5-add-intelligence-llm-rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5. Add Intelligence - LLM & RAG
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t6-use-external-tools-mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6. Use External Tools - MCP Example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t7-extend-runtime-custom-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7. Plug In Your World - Custom Services
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/example-list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Example List
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Graph API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            Graph API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graph-tool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    tool decorator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graphify-graphfn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    graph decorator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graph-task-graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TaskGraph
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Runner API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Runner API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runner-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    run & run_async
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" checked>
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Context API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Context API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-channel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.channel()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-artifacts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.artifacts()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.memory()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-indices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.indices()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    context.planner()
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    context.planner()
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-ideas" class="md-nav__link">
    <span class="md-ellipsis">
      Core ideas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core ideas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typed-dag-planning" class="md-nav__link">
    <span class="md-ellipsis">
      Typed DAG planning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flow-constraints-flow_ids" class="md-nav__link">
    <span class="md-ellipsis">
      Flow constraints (flow_ids)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-bound-execution-context" class="md-nav__link">
    <span class="md-ellipsis">
      Node-bound execution context
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-planning-types-and-dataclasses" class="md-nav__link">
    <span class="md-ellipsis">
      1. Planning Types and Dataclasses
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.plan_types.PlanStep" class="md-nav__link">
    <span class="md-ellipsis">
      PlanStep
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.plan_types.CandidatePlan" class="md-nav__link">
    <span class="md-ellipsis">
      CandidatePlan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.plan_types.ValidationIssue" class="md-nav__link">
    <span class="md-ellipsis">
      ValidationIssue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.plan_types.ValidationResult" class="md-nav__link">
    <span class="md-ellipsis">
      ValidationResult
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.plan_types.PlanningEvent" class="md-nav__link">
    <span class="md-ellipsis">
      PlanningEvent
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.plan_types.PlanningContext" class="md-nav__link">
    <span class="md-ellipsis">
      PlanningContext
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.plan_types.PlanResult" class="md-nav__link">
    <span class="md-ellipsis">
      PlanResult
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-execution-types-and-dataclasses" class="md-nav__link">
    <span class="md-ellipsis">
      2. Execution Types and Dataclasses
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.plan_executor.ExecutionEvent" class="md-nav__link">
    <span class="md-ellipsis">
      ExecutionEvent
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.plan_executor.ExecutionResult" class="md-nav__link">
    <span class="md-ellipsis">
      ExecutionResult
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.plan_executor.BackgroundExecutionHandle" class="md-nav__link">
    <span class="md-ellipsis">
      BackgroundExecutionHandle
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-core-apis" class="md-nav__link">
    <span class="md-ellipsis">
      3. Core APIs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Core APIs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#plan" class="md-nav__link">
    <span class="md-ellipsis">
      Plan
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.node_planner.NodePlanner.plan" class="md-nav__link">
    <span class="md-ellipsis">
      plan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.node_planner.NodePlanner.plan_with_context" class="md-nav__link">
    <span class="md-ellipsis">
      plan_with_context
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.node_planner.NodePlanner.parse_inputs" class="md-nav__link">
    <span class="md-ellipsis">
      parse_inputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="parse_inputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#execute" class="md-nav__link">
    <span class="md-ellipsis">
      Execute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.node_planner.NodePlanner.execute" class="md-nav__link">
    <span class="md-ellipsis">
      execute
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.planning.node_planner.NodePlanner.execute_background" class="md-nav__link">
    <span class="md-ellipsis">
      execute_background
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-skills/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.skills()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-logger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.logger()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-kv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.kv()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-llm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.llm()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.rag()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.mcp()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-viz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.viz()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context run management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-extension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context extension
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-adhoc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context outside graph
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Runtime API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Runtime API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    runtime server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    runtime services
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Built-in @tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Built-in @tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tool-channel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    channel tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Use Aethergraph UI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            Use Aethergraph UI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Start the server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/agents-apps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agents & Apps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/ui-rich-card/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rich Card in Chat
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/ui-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Notes & troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../llm-setup/llm-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Channel Setup
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Channel Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Channels Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/console-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Console Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/slack-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slack Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/telegram-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Telegram Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/webhook-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Webhook Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/file-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Setup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="contextplanner-nodeplanner-for-typed-dag-planning"><code>context.planner()</code> – NodePlanner for Typed DAG Planning<a class="headerlink" href="#contextplanner-nodeplanner-for-typed-dag-planning" title="Permanent link">&para;</a></h1>
<p><code>context.planner()</code> returns a <code>NodePlanner</code>: a <strong>node-bound façade</strong> over <code>PlannerService</code> that generates and executes <strong>typed DAG plans</strong> with an LLM.</p>
<p>Today, planning is <strong>static</strong>: the planner proposes a DAG from the available graphs/skills, validates it against typed inputs/outputs, then you execute it. In the future, this will evolve toward <strong>dynamic planning</strong> (re-planning based on intermediate execution signals, tool feedback, and typed state).</p>
<h2 id="core-ideas">Core ideas<a class="headerlink" href="#core-ideas" title="Permanent link">&para;</a></h2>
<h3 id="typed-dag-planning">Typed DAG planning<a class="headerlink" href="#typed-dag-planning" title="Permanent link">&para;</a></h3>
<ul>
<li>Each plan is a <strong>directed acyclic graph (DAG)</strong> of steps.</li>
<li>Each step references an action (<code>action_ref</code>) plus <code>inputs</code>.</li>
<li>The planner uses typed input/output constraints to ensure the plan is executable.</li>
</ul>
<h3 id="flow-constraints-flow_ids">Flow constraints (<code>flow_ids</code>)<a class="headerlink" href="#flow-constraints-flow_ids" title="Permanent link">&para;</a></h3>
<p><code>flow_ids</code> is a list of flow identifiers used to <strong>constrain the search space</strong>. This can be specified when defining the graph/graph function in the decorator <code>@graph(flow_id=...)</code> or <code>@graph_fn(flow_id=...)</code>. Any graphs/actions registered under the same flow list can be combined into a single valid DAG (subject to type compatibility).</p>
<h3 id="node-bound-execution-context">Node-bound execution context<a class="headerlink" href="#node-bound-execution-context" title="Permanent link">&para;</a></h3>
<p><code>NodePlanner</code> auto-fills execution metadata from the active <code>NodeContext</code> (identity/session/app/agent), while still allowing overrides via keyword arguments.</p>
<hr />
<h2 id="1-planning-types-and-dataclasses">1. Planning Types and Dataclasses<a class="headerlink" href="#1-planning-types-and-dataclasses" title="Permanent link">&para;</a></h2>
<p>These dataclasses define the planning protocol and validation surface.</p>
<details class="quote">
<summary>PlanStep</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.planning.plan_types.PlanStep"></a>
    <div class="doc doc-contents first">



        <p>Represents a single step in a plan, referencing an action and its inputs.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanStep.id">id</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique identifier for the plan step.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanStep.action">action</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>short, human/LLM-readable name for the action</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanStep.action_ref">action_ref</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Reference to the associated action specification. This is a canonicial identifier used in AetherGraph.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanStep.inputs">inputs</span></code></td>
            <td>
                  <code><span title="Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input parameters for the action.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><span title="aethergraph.services.planning.plan_types.PlanStep.from_dict">from_dict</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Creates a PlanStep instance from a dictionary.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><span title="aethergraph.services.planning.plan_types.PlanStep.to_dict">to_dict</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Serializes the PlanStep instance to a dictionary.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <ul>
<li>this class is usually not accessed unless you are building or inspecting plans directly.</li>
</ul>
</details>










<div class="doc doc-children">












  </div>

    </div>

</div></details>
<details class="quote">
<summary>CandidatePlan</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.planning.plan_types.CandidatePlan"></a>
    <div class="doc doc-contents first">



        <p>CandidatePlan represents a plan consisting of multiple steps and additional metadata.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.CandidatePlan.steps">steps</span></code></td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_types.PlanStep" href="#aethergraph.services.planning.plan_types.PlanStep">PlanStep</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of steps that make up the plan.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.CandidatePlan.extras">extras</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional metadata or information associated with the plan.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><span title="aethergraph.services.planning.plan_types.CandidatePlan.from_dict">from_dict</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>dict[str, Any]) -&gt; CandidatePlan:
Creates an instance of CandidatePlan from a dictionary representation.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><span title="aethergraph.services.planning.plan_types.CandidatePlan.to_dict">to_dict</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Converts the CandidatePlan instance into a dictionary representation.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>











<div class="doc doc-children">












  </div>

    </div>

</div></details>
<details class="quote">
<summary>ValidationIssue</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.planning.plan_types.ValidationIssue"></a>
    <div class="doc doc-contents first">



        <p>Represents a validation issue encountered in a planning process.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.ValidationIssue.kind">kind</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of validation issue. Possible values include
'missing_input', 'unknown_action', 'type_mismatch', 'cycle', etc.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.ValidationIssue.step_id">step_id</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The identifier of the plan step where the issue occurred.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.ValidationIssue.field">field</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the input, output, or other field related to the issue.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.ValidationIssue.message">message</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A human-readable message describing the issue.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.ValidationIssue.details">details</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional details about the issue, provided as a dictionary.
Defaults to an empty dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











<div class="doc doc-children">












  </div>

    </div>

</div></details>
<details class="quote">
<summary>ValidationResult</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.planning.plan_types.ValidationResult"></a>
    <div class="doc doc-contents first">



        <p>ValidationResult represents the result of validating a plan, including its validity,
any structural errors, and missing user-provided values.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.ValidationResult.ok">ok</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicates whether the plan is valid (True) or invalid (False).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.ValidationResult.issues">issues</span></code></td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_types.ValidationIssue" href="#aethergraph.services.planning.plan_types.ValidationIssue">ValidationIssue</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of validation issues found in the plan.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.ValidationResult.has_structural_errors">has_structural_errors</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicates if the plan has structural errors.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.ValidationResult.missing_user_bindings">missing_user_bindings</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="list">list</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary mapping keys to lists of
locations where user-provided values are missing.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Methods:
    is_partial_ok() -&gt; bool:
        Checks if the plan is structurally valid but requires user-provided values
        before execution.
    summary() -&gt; str:
        Generates a summary string describing the validity of the plan and any issues
        found. If the plan is valid, the summary states "Plan is valid." If invalid,
        the summary lists the issues with their details.</p>











<div class="doc doc-children">












  </div>

    </div>

</div></details>
<details class="quote">
<summary>PlanningEvent</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.planning.plan_types.PlanningEvent"></a>
    <div class="doc doc-contents first">



        <p>Represents a lightweight event emitted during the planning process.
This class is intended for use in logging, debugging, and updating UI progress
(e.g., updating a spinner or status text). It provides optional structured
payloads for additional context.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningEvent.phase">phase</span></code></td>
            <td>
                  <code><span title="aethergraph.services.planning.plan_types.PlanningPhase">PlanningPhase</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The current phase of the planning process.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningEvent.iteration">iteration</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The iteration number within the planning phase.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningEvent.message">message</span></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional message describing the event.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningEvent.raw_llm_output">raw_llm_output</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional dictionary containing
raw output from the language model.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningEvent.plan_dict">plan_dict</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional dictionary representing the
plan structure.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningEvent.validation">validation</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_types.ValidationResult" href="#aethergraph.services.planning.plan_types.ValidationResult">ValidationResult</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional validation result
associated with the event.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











<div class="doc doc-children">












  </div>

    </div>

</div></details>
<details class="quote">
<summary>PlanningContext</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.planning.plan_types.PlanningContext"></a>
    <div class="doc doc-contents first">



        <p>Represents the context for planning, including user inputs, external slots,
memory snippets, and other parameters that guide the planning process.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningContext.goal">goal</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The goal or objective of the planning process.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningContext.user_inputs">user_inputs</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of user-provided inputs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningContext.external_slots">external_slots</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of external slots or parameters.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningContext.memory_snippets">memory_snippets</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of memory snippets for narrow, LLM-facing context.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningContext.artifact_snippets">artifact_snippets</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of artifact snippets for narrow, LLM-facing context.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningContext.flow_ids">flow_ids</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of flow IDs representing the tools/graphs
that are allowed to be used. Defaults to None.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningContext.instruction">instruction</span></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A richer agent context, used by planner code but not
directly dumped. Can be parsed from skills. Defaults to None.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningContext.allow_partial_plans">allow_partial_plans</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicates whether the planner should accept
structurally valid but missing user input plans. Defaults to True.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanningContext.preferred_external_keys">preferred_external_keys</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of keys that are allowed or
preferred as <code>${user.&lt;key&gt;}</code>. Defaults to None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











<div class="doc doc-children">












  </div>

    </div>

</div></details>
<details class="quote">
<summary>PlanResult</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.planning.plan_types.PlanResult"></a>
    <div class="doc doc-contents first">



        <p>PlanResult is a data class that encapsulates the result of a planning operation.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanResult.plan">plan</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_types.CandidatePlan" href="#aethergraph.services.planning.plan_types.CandidatePlan">CandidatePlan</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The candidate plan resulting from the planning operation.
It can be None if no valid plan was generated.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanResult.validation">validation</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_types.ValidationResult" href="#aethergraph.services.planning.plan_types.ValidationResult">ValidationResult</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The validation result associated with the plan.
It can be None if validation was not performed or not applicable.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_types.PlanResult.events">events</span></code></td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_types.PlanningEvent" href="#aethergraph.services.planning.plan_types.PlanningEvent">PlanningEvent</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of planning events that occurred during the planning process.
Defaults to an empty list.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











<div class="doc doc-children">












  </div>

    </div>

</div></details>
<hr />
<h2 id="2-execution-types-and-dataclasses">2. Execution Types and Dataclasses<a class="headerlink" href="#2-execution-types-and-dataclasses" title="Permanent link">&para;</a></h2>
<p>Execution returns structured events and results, and can be run synchronously or in the background.</p>
<details class="quote">
<summary>ExecutionEvent</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.planning.plan_executor.ExecutionEvent"></a>
    <div class="doc doc-contents first">



        <p>Represents an event emitted during the execution of a plan.
This class is used to encapsulate information about the current state of
execution, which can be useful for logging purposes or updating the UI
with progress information.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_executor.ExecutionEvent.phase">phase</span></code></td>
            <td>
                  <code><span title="aethergraph.services.planning.plan_executor.ExecutionPhase">ExecutionPhase</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The current phase of execution.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_executor.ExecutionEvent.step_id">step_id</span></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The identifier of the current step, if applicable.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_executor.ExecutionEvent.message">message</span></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional message providing additional context
about the event.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_executor.ExecutionEvent.step_outputs">step_outputs</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Outputs produced by the step,
applicable for success phases.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_executor.ExecutionEvent.error">error</span></code></td>
            <td>
                  <code><span title="Exception">Exception</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The exception raised during execution,
applicable for failure phases.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











<div class="doc doc-children">












  </div>

    </div>

</div></details>
<details class="quote">
<summary>ExecutionResult</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.planning.plan_executor.ExecutionResult"></a>
    <div class="doc doc-contents first">



        <p>Represents the result of an execution process.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_executor.ExecutionResult.ok">ok</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicates whether the execution was successful.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_executor.ExecutionResult.outputs">outputs</span></code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing the outputs of the execution.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_executor.ExecutionResult.errors">errors</span></code></td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_executor.ExecutionEvent" href="#aethergraph.services.planning.plan_executor.ExecutionEvent">ExecutionEvent</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of errors that occurred during execution. Defaults to an empty list.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











<div class="doc doc-children">












  </div>

    </div>

</div></details>
<details class="quote">
<summary>BackgroundExecutionHandle</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.planning.plan_executor.BackgroundExecutionHandle"></a>
    <div class="doc doc-contents first">



        <p>BackgroundExecutionHandle is a data class that represents a handle for managing
the execution of a background task.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_executor.BackgroundExecutionHandle.id">id</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A unique identifier for the execution handle.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_executor.BackgroundExecutionHandle.plan_id">plan_id</span></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The identifier of the associated plan, if any.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="aethergraph.services.planning.plan_executor.BackgroundExecutionHandle.task">task</span></code></td>
            <td>
                  <code><span title="asyncio.Task">Task</span>[<a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_executor.ExecutionResult" href="#aethergraph.services.planning.plan_executor.ExecutionResult">ExecutionResult</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The asyncio task representing the background execution.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><span title="aethergraph.services.planning.plan_executor.BackgroundExecutionHandle.done">done</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Checks if the background task has completed.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><span title="aethergraph.services.planning.plan_executor.BackgroundExecutionHandle.cancelled">cancelled</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Checks if the background task has been cancelled.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><span title="aethergraph.services.planning.plan_executor.BackgroundExecutionHandle.cancel">cancel</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Cancels the background task.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><span title="aethergraph.services.planning.plan_executor.BackgroundExecutionHandle.wait">wait</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Awaits the completion of the background task and returns its result.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>











<div class="doc doc-children">












  </div>

    </div>

</div></details>
<hr />
<h2 id="3-core-apis">3. Core APIs<a class="headerlink" href="#3-core-apis" title="Permanent link">&para;</a></h2>
<p>Below are the primary entry points. <strong>Paths are stable</strong> (do not change imports/targets for these API docs).</p>
<h3 id="plan">Plan<a class="headerlink" href="#plan" title="Permanent link">&para;</a></h3>
<ul>
<li><code>plan()</code> is the standard entry point for planning with high-level inputs.</li>
<li><code>plan_with_context()</code> is a lower-level entry point when you already have a <code>PlanningContext</code>.</li>
<li><code>parse_inputs()</code> extracts missing structured inputs from free-form user text.</li>
</ul>
<details class="quote">
<summary>plan(*, goal, user_inputs, external_slots, flow_id, ...)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.planning.node_planner.NodePlanner.plan"></a>
    <div class="doc doc-contents first">

        <p>Generate a plan based on the provided goal and context.</p>
<p>This method delegates the planning process to the underlying PlannerService,
using the provided inputs and optional callbacks for event handling.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to generate a plan:
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">node_planner</span><span class="o">.</span><span class="n">plan</span><span class="p">(</span><span class="n">goal</span><span class="o">=</span><span class="s2">&quot;Optimize workflow&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p>Providing additional inputs and handling events:
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">node_planner</span><span class="o">.</span><span class="n">plan</span><span class="p">(</span>
    <span class="n">goal</span><span class="o">=</span><span class="s2">&quot;Generate report&quot;</span><span class="p">,</span>
    <span class="n">user_inputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-10-01&quot;</span><span class="p">},</span>
    <span class="n">on_event</span><span class="o">=</span><span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Event: </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>goal</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The primary objective or goal for the planning process.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>user_inputs</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional dictionary of user-provided inputs for the plan.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>external_slots</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional dictionary of external slot values to consider.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flow_ids</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional list of flow identifiers to constrain the planning scope.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>instruction</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional instruction or guidance for the planner.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_partial</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to allow partial plans if the goal cannot be fully satisfied (default: True).</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>preferred_external_keys</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional list of preferred external keys to prioritize.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>memory_snippets</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional list of memory snippets to include in the planning context.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_snippets</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional list of artifact snippets to include in the planning context.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>on_event</code>
            </td>
            <td>
                  <code><span title="aethergraph.services.planning.node_planner.PlanEventsCallback">PlanEventsCallback</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional callback function to handle planning events.
  The callback should be of type <code>PlanningEventCallback = Callable[[PlanningEvent], None] | Callable[[PlanningEvent], Awaitable[None]]</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>PlanResult</code></td>            <td>
                  <code><span title="aethergraph.services.planning.planner_service.PlanResult">PlanResult</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result of the planning process, including the generated plan and metadata.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Notes:
You can use <code>on_event</code> to monitor the planning process and react to intermediate events.</p>


    </div>

</div></details>
<details class="quote">
<summary>plan_with_context(ctx, *, on_event)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.planning.node_planner.NodePlanner.plan_with_context"></a>
    <div class="doc doc-contents first">

        <p>Plan a task using the provided planning context.</p>
<p>This method delegates the planning process to the underlying service, allowing
for the generation of a plan based on the given context and optional event callback.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to generate a plan:
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">planner</span><span class="o">.</span><span class="n">plan_with_context</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
</code></pre></div></p>
<p>Using an event callback to monitor planning progress:
<div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">on_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Received event: </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">planner</span><span class="o">.</span><span class="n">plan_with_context</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">on_event</span><span class="o">=</span><span class="n">on_event</span><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ctx</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_types.PlanningContext" href="#aethergraph.services.planning.plan_types.PlanningContext">PlanningContext</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>PlanningContext</code> object containing the necessary information for planning.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>on_event</code>
            </td>
            <td>
                  <code><span title="aethergraph.services.planning.node_planner.PlanEventsCallback">PlanEventsCallback</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional callback function to handle planning events. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="aethergraph.services.planning.planner_service.PlanResult">PlanResult</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <code>PlanResult</code> object containing the outcome of the planning process.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <ul>
<li>The <code>on_event</code> callback can be used to receive updates or intermediate results
during the planning process.</li>
</ul>
</details>

    </div>

</div></details>
<details class="quote">
<summary>parse_inputs(*, message, missing_keys, instruction)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.planning.node_planner.NodePlanner.parse_inputs"></a>
    <div class="doc doc-contents first">

        <p>Parse input data and handle missing keys.</p>
<p>This method processes the provided input message, identifies any missing keys,
and optionally uses an instruction to guide the parsing process. It delegates
the actual parsing logic to the <code>service.parse_inputs</code> method.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to parse inputs:
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">node_planner</span><span class="o">.</span><span class="n">parse_inputs</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Input data with key1 = 0.1 and key2 = dummy string inputs&quot;</span><span class="p">,</span>
    <span class="n">missing_keys</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;key1&quot;</span><span class="p">,</span> <span class="s2">&quot;key2&quot;</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div></p>
<p>Parsing with an additional instruction:
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">node_planner</span><span class="o">.</span><span class="n">parse_inputs</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Input data with key1 equals 0.1 and key2 is some dummy string inputs&quot;</span><span class="p">,</span>
    <span class="n">missing_keys</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;key1&quot;</span><span class="p">,</span> <span class="s2">&quot;key2&quot;</span><span class="p">],</span>
    <span class="n">instruction</span><span class="o">=</span><span class="s2">&quot;key1 is a float and key2 is a string. Make sure all values are included in a dictionary.&quot;</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>message</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input message to be parsed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>missing_keys</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Field names whose values we want to extract.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>instruction</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional instruction to guide the parsing process.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result of the parsing operation as returned by the <code>service.parse_inputs</code> method.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Notes:
This method is asynchronous and relies on the <code>service.parse_inputs</code> implementation
for the actual parsing logic.</p>


    </div>

</div></details>
<h3 id="execute">Execute<a class="headerlink" href="#execute" title="Permanent link">&para;</a></h3>
<ul>
<li><code>execute()</code> runs a validated <code>CandidatePlan</code> immediately.</li>
<li><code>execute_background()</code> runs the plan asynchronously and returns a handle.</li>
</ul>
<details class="quote">
<summary>execute(plan, *, user_inputs, on_event, ...)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.planning.node_planner.NodePlanner.execute"></a>
    <div class="doc doc-contents first">

        <p>Execute a plan with the provided context and parameters.</p>
<p>This method uses the NodeContext to auto-fill execution metadata such as
identity, session, agent, and application IDs. Callers can override these
defaults by providing explicit keyword arguments.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to execute a plan:
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">node_planner</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">plan</span><span class="p">)</span>
</code></pre></div></p>
<p>Executing with additional user inputs and event handling:
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">node_planner</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
<span class="n">plan</span><span class="p">,</span>
<span class="n">user_inputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;key1&quot;</span><span class="p">:</span> <span class="s2">&quot;value1&quot;</span><span class="p">},</span>
<span class="n">on_event</span><span class="o">=</span><span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution event: </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>plan</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_types.CandidatePlan" href="#aethergraph.services.planning.plan_types.CandidatePlan">CandidatePlan</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>CandidatePlan</code> object to execute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>user_inputs</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional dictionary of user-provided inputs for the execution. Values referenced as "${user.<key>}"</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>on_event</code>
            </td>
            <td>
                  <code><span title="aethergraph.services.planning.node_planner.ExecEventsCallback">ExecEventsCallback</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional callback function to handle execution events.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>identity</code>
            </td>
            <td>
                  <code><span title="aethergraph.api.v1.deps.RequestIdentity">RequestIdentity</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional <code>RequestIdentity</code> to override the default identity.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>visibility</code>
            </td>
            <td>
                  <code><span title="aethergraph.core.runtime.run_types.RunVisibility">RunVisibility</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Visibility level for the execution (default: <code>RunVisibility.normal</code>).</p>
              </div>
            </td>
            <td>
                  <code><span title="aethergraph.core.runtime.run_types.RunVisibility.normal">normal</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>importance</code>
            </td>
            <td>
                  <code><span title="aethergraph.core.runtime.run_types.RunImportance">RunImportance</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Importance level for the execution (default: <code>RunImportance.normal</code>).</p>
              </div>
            </td>
            <td>
                  <code><span title="aethergraph.core.runtime.run_types.RunImportance.normal">normal</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>session_id</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional session ID to override the default session.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>agent_id</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional agent ID to override the default agent.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>app_id</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional application ID to override the default application.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tags</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional list of tags to associate with the execution.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>origin</code>
            </td>
            <td>
                  <code><span title="aethergraph.core.runtime.run_types.RunOrigin">RunOrigin</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional <code>RunOrigin</code> to specify the origin of the execution.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>ExecutionResult</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_executor.ExecutionResult" href="#aethergraph.services.planning.plan_executor.ExecutionResult">ExecutionResult</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result of the execution process, including status and metadata.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Notes:
Use the <code>on_event</code> callback to monitor execution progress and handle intermediate events.</p>


    </div>

</div></details>
<details class="quote">
<summary>execute_background(plan, *, user_inputs, on_event, ...)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.planning.node_planner.NodePlanner.execute_background"></a>
    <div class="doc doc-contents first">

        <p>Execute a candidate plan in the background, bound to this node.
This method initiates a fire-and-forget execution of the provided plan,
leveraging the node's context and metadata. Progress updates can be
reported via the <code>on_event</code> callback, and completion is signaled through
the <code>on_complete</code> callback.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to execute a plan in the background:
<div class="highlight"><pre><span></span><code><span class="n">handle</span> <span class="o">=</span> <span class="k">await</span> <span class="n">node_planner</span><span class="o">.</span><span class="n">execute_background</span><span class="p">(</span><span class="n">plan</span><span class="p">)</span>
</code></pre></div></p>
<p>Executing with additional metadata and callbacks:
<div class="highlight"><pre><span></span><code><span class="n">handle</span> <span class="o">=</span> <span class="k">await</span> <span class="n">node_planner</span><span class="o">.</span><span class="n">execute_background</span><span class="p">(</span>
    <span class="n">user_inputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;param1&quot;</span><span class="p">:</span> <span class="s2">&quot;value1&quot;</span><span class="p">},</span>
    <span class="n">on_event</span><span class="o">=</span><span class="n">event_callback</span><span class="p">,</span>
    <span class="n">on_complete</span><span class="o">=</span><span class="n">completion_callback</span><span class="p">,</span>
    <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;custom:tag&quot;</span><span class="p">],</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>plan</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_types.CandidatePlan" href="#aethergraph.services.planning.plan_types.CandidatePlan">CandidatePlan</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The candidate plan to execute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>user_inputs</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional dictionary of user-provided inputs for the execution.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>on_event</code>
            </td>
            <td>
                  <code><span title="aethergraph.services.planning.node_planner.ExecEventsCallback">ExecEventsCallback</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional callback to handle execution progress events.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>identity</code>
            </td>
            <td>
                  <code><span title="aethergraph.api.v1.deps.RequestIdentity">RequestIdentity</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional identity to associate with the execution; defaults to the node's context identity.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>visibility</code>
            </td>
            <td>
                  <code><span title="aethergraph.core.runtime.run_types.RunVisibility">RunVisibility</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The visibility level of the execution (default: RunVisibility.normal).</p>
              </div>
            </td>
            <td>
                  <code><span title="aethergraph.core.runtime.run_types.RunVisibility.normal">normal</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>importance</code>
            </td>
            <td>
                  <code><span title="aethergraph.core.runtime.run_types.RunImportance">RunImportance</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The importance level of the execution (default: RunImportance.normal).</p>
              </div>
            </td>
            <td>
                  <code><span title="aethergraph.core.runtime.run_types.RunImportance.normal">normal</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>session_id</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional session ID to associate with the execution; defaults to the node's context session ID.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>agent_id</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional agent ID to associate with the execution; defaults to the node's context agent ID.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>app_id</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional application ID to associate with the execution; defaults to the node's context app ID.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tags</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional list of tags to associate with the execution; additional tags are derived from the node's context.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>origin</code>
            </td>
            <td>
                  <code><span title="aethergraph.core.runtime.run_types.RunOrigin">RunOrigin</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional origin of the execution; defaults to <code>RunOrigin.agent</code> if an agent ID is present, otherwise <code>RunOrigin.user</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>on_complete</code>
            </td>
            <td>
                  <code><span title="collections.abc.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_executor.ExecutionResult" href="#aethergraph.services.planning.plan_executor.ExecutionResult">ExecutionResult</a>], <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional callback to handle execution completion.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>exec_id</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional explicit execution ID to associate with the execution.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>BackgroundExecutionHandle</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="aethergraph.services.planning.plan_executor.BackgroundExecutionHandle" href="#aethergraph.services.planning.plan_executor.BackgroundExecutionHandle">BackgroundExecutionHandle</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A handle to monitor or interact with the background execution.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <ul>
<li>Tags automatically include identifiers for the graph, node, and run (if available) from the node's context.</li>
<li>The <code>on_event</code> callback is invoked with progress updates, while the <code>on_complete</code> callback is invoked upon completion.</li>
</ul>
</details>

    </div>

</div></details>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../context-indices/" class="md-footer__link md-footer__link--prev" aria-label="Previous: context.indices()">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                context.indices()
              </div>
            </div>
          </a>
        
        
          
          <a href="../context-skills/" class="md-footer__link md-footer__link--next" aria-label="Next: context.skills()">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                context.skills()
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.sections", "navigation.expand", "navigation.instant", "toc.integrate", "search.suggest", "search.highlight", "navigation.footer"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=JetBrains+Mono:wght@400;500;700&amp;display=swap"></script>
      
    
  </body>
</html>