
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A Python-first agentic framework for R&D workflows — graph_fn, Context services, Tools, Graphify.">
      
      
        <meta name="author" content="AIperture">
      
      
        <link rel="canonical" href="https://your-domain.com/reference/context-mcp/">
      
      
        <link rel="prev" href="../context-rag/">
      
      
        <link rel="next" href="../context-viz/">
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>context.mcp() - AetherGraph</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../assets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="aether-light" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#contextmcp-model-context-protocol-mcp-api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AetherGraph" class="md-header__button md-logo" aria-label="AetherGraph" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AetherGraph
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              context.mcp()
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="aether-light" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="aether-dark" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/AIperture/aethergraph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    AIperture/aethergraph
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AetherGraph" class="md-nav__button md-logo" aria-label="AetherGraph" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    AetherGraph
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/AIperture/aethergraph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    AIperture/aethergraph
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quickstart
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Key Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Key Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/agent-via-graph-fn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent via Graph Function
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/context-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context Services Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/channels-interaction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Channels and Interaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/artifacts-memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Artifacts and Memory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/other-services-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other Services Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/extending-context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extending Context
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/static-graph-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Static Graph Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/server-start-sidecar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sidecar Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/concurrency-orchestration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Concurrency and Orchestration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t1-build-your-first-graph-fn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Building Your First Graph Function Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t2-static-graph-with-graphify/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. Static Graph with Graphify
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t3-talk-to-your-graph-channels-waits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Talk to Your Graph - Channels & Wait Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t4-store-recall-artifacts-memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Store and Recall - Artifacts & Memory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t5-add-intelligence-llm-rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5. Add Intelligence - LLM & RAG
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t6-use-external-tools-mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6. Use External Tools - MCP Example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t7-extend-runtime-custom-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7. Plug In Your World - Custom Services
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/example-list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Example List
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Graph API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            Graph API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graph-tool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    tool decorator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graphify-graphfn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    graph decorator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graph-task-graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TaskGraph
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Runner API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Runner API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runner-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    run & run_async
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" checked>
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Context API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Context API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-channel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.channel()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-artifacts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.artifacts()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.memory()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-indices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.indices()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-planner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.planner()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-skills/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.skills()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-logger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.logger()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-kv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.kv()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-llm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.llm()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.rag()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    context.mcp()
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    context.mcp()
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-mcp-clients" class="md-nav__link">
    <span class="md-ellipsis">
      1. MCP Clients
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.http_client.HttpMCPClient" class="md-nav__link">
    <span class="md-ellipsis">
      HttpMCPClient
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.ws_client.WsMCPClient" class="md-nav__link">
    <span class="md-ellipsis">
      WsMCPClient
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.stdio_client.StdioMCPClient" class="md-nav__link">
    <span class="md-ellipsis">
      StdioMCPClient
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-registration" class="md-nav__link">
    <span class="md-ellipsis">
      2. Registration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.core.runtime.runtime_services.register_mcp_client" class="md-nav__link">
    <span class="md-ellipsis">
      register_mcp_client
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.core.runtime.runtime_services.list_mcp_clients" class="md-nav__link">
    <span class="md-ellipsis">
      list_mcp_clients
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-service-methods" class="md-nav__link">
    <span class="md-ellipsis">
      3. Service Methods
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.register" class="md-nav__link">
    <span class="md-ellipsis">
      register
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.remove" class="md-nav__link">
    <span class="md-ellipsis">
      remove
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.has" class="md-nav__link">
    <span class="md-ellipsis">
      has
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.names" class="md-nav__link">
    <span class="md-ellipsis">
      names
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.list_clients" class="md-nav__link">
    <span class="md-ellipsis">
      list_clients
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.get" class="md-nav__link">
    <span class="md-ellipsis">
      get
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.open" class="md-nav__link">
    <span class="md-ellipsis">
      open
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.close" class="md-nav__link">
    <span class="md-ellipsis">
      close
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.open_all" class="md-nav__link">
    <span class="md-ellipsis">
      open_all
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.close_all" class="md-nav__link">
    <span class="md-ellipsis">
      close_all
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.call" class="md-nav__link">
    <span class="md-ellipsis">
      call
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.list_tools" class="md-nav__link">
    <span class="md-ellipsis">
      list_tools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.list_resources" class="md-nav__link">
    <span class="md-ellipsis">
      list_resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.read_resource" class="md-nav__link">
    <span class="md-ellipsis">
      read_resource
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.set_header" class="md-nav__link">
    <span class="md-ellipsis">
      set_header
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.mcp.service.MCPService.persist_secret" class="md-nav__link">
    <span class="md-ellipsis">
      persist_secret
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registering-clients-after-sidecar-starts" class="md-nav__link">
    <span class="md-ellipsis">
      Registering Clients (after sidecar starts)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-viz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.viz()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context run management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-extension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context extension
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-adhoc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context outside graph
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Runtime API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Runtime API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    runtime server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    runtime services
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Built-in @tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Built-in @tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tool-channel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    channel tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Use Aethergraph UI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            Use Aethergraph UI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Start the server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/agents-apps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agents & Apps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/ui-rich-card/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rich Card in Chat
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/ui-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Notes & troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../llm-setup/llm-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Channel Setup
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Channel Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Channels Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/console-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Console Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/slack-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slack Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/telegram-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Telegram Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/webhook-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Webhook Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/file-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Setup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="contextmcp-model-context-protocol-mcp-api-reference"><code>context.mcp()</code> – Model Context Protocol (MCP) API Reference<a class="headerlink" href="#contextmcp-model-context-protocol-mcp-api-reference" title="Permanent link">&para;</a></h1>
<p><code>context.mcp()</code> gives you access to the MCP service, which manages <strong>named MCP clients</strong> (stdio / WebSocket / HTTP), handles lifecycle (open/close), and offers thin call helpers.</p>
<blockquote>
<p>Register clients after the sidecar starts. Example below uses the helper <code>register_mcp_client()</code>.</p>
</blockquote>
<hr />
<h2 id="1-mcp-clients">1. MCP Clients<a class="headerlink" href="#1-mcp-clients" title="Permanent link">&para;</a></h2>
<p>Three MCP clients can be established: </p>
<details class="quote">
<summary>HttpMCPClient(name, client)</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.mcp.http_client.HttpMCPClient"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="aethergraph.contracts.services.mcp.MCPClientProtocol">MCPClientProtocol</span></code></p>



        <p>Initialize the HTTP client service with base URL, headers, and timeout.</p>
<p>This constructor sets up the base URL for all requests, applies default and custom headers,
and configures the request timeout. It also initializes internal state for the asynchronous
HTTP client and concurrency control.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage with default headers:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph.services.mcp</span><span class="w"> </span><span class="kn">import</span> <span class="n">HttpMCPClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">HttpMCPClient</span><span class="p">(</span><span class="s2">&quot;https://api.example.com&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p>Custom headers and timeout:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph.services.mcp</span><span class="w"> </span><span class="kn">import</span> <span class="n">HttpMCPClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">HttpMCPClient</span><span class="p">(</span>
    <span class="s2">&quot;https://api.example.com&quot;</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer &lt;token&gt;&quot;</span><span class="p">},</span>
    <span class="n">timeout</span><span class="o">=</span><span class="mf">30.0</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>base_url</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The root URL for all HTTP requests (e.g., "https://api.example.com").</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>headers</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional dictionary of additional HTTP headers to include with each request.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>The &#34;Content-Type</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>application/json" header is always set by default.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>timeout</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum time (in seconds) to wait for a response before timing out.</p>
              </div>
            </td>
            <td>
                  <code>60.0</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>None</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Initializes the HttpMCPClient instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <ul>
<li>Ensure that the base_url does not have a trailing slash; it will be added automatically.</li>
<li>The client uses asynchronous HTTP requests for non-blocking operations.</li>
</ul>
</details>










<div class="doc doc-children">












  </div>

    </div>

</div></details>
<details class="quote">
<summary>WsMCPClient(name, client)</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.mcp.ws_client.WsMCPClient"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="aethergraph.contracts.services.mcp.MCPClientProtocol">MCPClientProtocol</span></code></p>



        <p>Initialize the WebSocket MCP client with URL, headers, and connection parameters.
This class manages a WebSocket connection to an MCP (Modular Control Protocol) server,
handling connection lifecycle, pinging for keepalive, and concurrency for sending JSON-RPC
requests. It provides methods to list tools, call tools, list resources, and read resources
via the MCP protocol.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage with default headers:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph.services.mcp</span><span class="w"> </span><span class="kn">import</span> <span class="n">WsMCPClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">WsMCPClient</span><span class="p">(</span><span class="s2">&quot;wss://mcp.example.com/ws&quot;</span><span class="p">)</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="n">tools</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">list_tools</span><span class="p">()</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></p>
<p>Custom headers and ping interval:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph.services.mcp</span><span class="w"> </span><span class="kn">import</span> <span class="n">WsMCPClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">WsMCPClient</span><span class="p">(</span>
    <span class="s2">&quot;wss://mcp.example.com/ws&quot;</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer &lt;token&gt;&quot;</span><span class="p">},</span>
    <span class="n">ping_interval</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
    <span class="n">timeout</span><span class="o">=</span><span class="mf">30.0</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>url</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The WebSocket URL of the MCP server (e.g., "wss://mcp.example.com/ws").</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>headers</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional dictionary of additional HTTP headers to include in the WebSocket handshake.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>timeout</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum time (in seconds) to wait for connection and responses.</p>
              </div>
            </td>
            <td>
                  <code>60.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ping_interval</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Interval (in seconds) between WebSocket ping frames for keepalive.</p>
              </div>
            </td>
            <td>
                  <code>20.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ping_timeout</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum time (in seconds) to wait for a ping response before considering the connection dead.</p>
              </div>
            </td>
            <td>
                  <code>10.0</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>None</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Initializes the WsMCPClient instance and prepares internal state.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











<div class="doc doc-children">












  </div>

    </div>

</div></details>
<details class="quote">
<summary>StdioMCPClient(name, client)</summary>


<div class="doc doc-object doc-class">



<a id="aethergraph.services.mcp.stdio_client.StdioMCPClient"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="aethergraph.contracts.services.mcp.MCPClientProtocol">MCPClientProtocol</span></code></p>



        <p>Initialize the MCP client service to communicate with a subprocess over stdio using JSON-RPC 2.0.</p>
<p>This class launches a subprocess (typically an MCP server), manages its lifecycle, and provides
asynchronous methods to interact with it using JSON-RPC 2.0 over standard input/output streams.
It handles command execution, environment setup, request/response serialization, and concurrency
control for safe multi-call usage.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage with default environment:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph.services.mcp</span><span class="w"> </span><span class="kn">import</span> <span class="n">StdioMCPClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">StdioMCPClient</span><span class="p">([</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;mcp_server.py&quot;</span><span class="p">])</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="n">tools</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">list_tools</span><span class="p">()</span>
<span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></p>
<p>Custom environment and timeout:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph.services.mcp</span><span class="w"> </span><span class="kn">import</span> <span class="n">StdioMCPClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">StdioMCPClient</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;mcp_server.py&quot;</span><span class="p">],</span>
    <span class="n">env</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;MY_ENV_VAR&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">},</span>
    <span class="n">timeout</span><span class="o">=</span><span class="mf">30.0</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cmd</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Command to start the MCP server subprocess (list of str).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>env</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional dictionary of environment variables for the subprocess.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>timeout</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timeout in seconds for each RPC call.</p>
              </div>
            </td>
            <td>
                  <code>60.0</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>None</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Initializes the StdioMCPClient instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <ul>
<li>The subprocess should adhere to the JSON-RPC 2.0 specification over stdio.</li>
<li>Ensure proper error handling in the subprocess to avoid deadlocks.</li>
</ul>
</details>










<div class="doc doc-children">












  </div>

    </div>

</div></details>
<hr />
<h2 id="2-registration">2. Registration<a class="headerlink" href="#2-registration" title="Permanent link">&para;</a></h2>
<details class="quote">
<summary>register_mcp_client(name, client)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.core.runtime.runtime_services.register_mcp_client"></a>
    <div class="doc doc-contents first">

        <p>Register a new MCP client with the current MCP service.</p>
<p>This function adds a client instance to the MCP service under the specified name,
allowing it to be accessed and managed by the MCP infrastructure.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph.runtime</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_mcp_client</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph.services.mcp</span><span class="w"> </span><span class="kn">import</span> <span class="n">HttpMCPClient</span>
<span class="n">my_client</span> <span class="o">=</span> <span class="n">HttpMCPClient</span><span class="p">(</span><span class="s2">&quot;https://mcp.example.com&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="n">register_mcp_client</span><span class="p">(</span><span class="s2">&quot;myclient&quot;</span><span class="p">,</span> <span class="n">my_client</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unique name to associate with the MCP client.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The client instance to register.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no MCP service has been installed via set_mcp_service().</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>list_mcp_clients(name, client)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.core.runtime.runtime_services.list_mcp_clients"></a>
    <div class="doc doc-contents first">

        <p>List all registered MCP client names in the current MCP service.</p>
<p>This function returns a list of all client names that have been registered
with the MCP service, allowing for discovery and management of available clients.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph.runtime</span><span class="w"> </span><span class="kn">import</span> <span class="n">list_mcp_clients</span>
<span class="n">clients</span> <span class="o">=</span> <span class="n">list_mcp_clients</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">clients</span><span class="p">)</span>
</code></pre></div>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of strings representing the names of registered MCP clients.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns an empty list if no MCP service is installed or no clients are registered.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<hr />
<h2 id="3-service-methods">3. Service Methods<a class="headerlink" href="#3-service-methods" title="Permanent link">&para;</a></h2>
<details class="quote">
<summary>register(name, client)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.register"></a>
    <div class="doc doc-contents first">

        <p>Register a new MCP client under a given name.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;myserver&quot;</span><span class="p">,</span> <span class="n">my_client</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name to register the client under.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><span title="aethergraph.contracts.services.mcp.MCPClientProtocol">MCPClientProtocol</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The MCPClientProtocol instance to register.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>remove(name)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.remove"></a>
    <div class="doc doc-contents first">

        <p>Remove a registered MCP client by name.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;myserver&quot;</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the client to remove.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>has(name)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.has"></a>
    <div class="doc doc-contents first">

        <p>Check if a client with the given name is registered.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Client exists&quot;</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the client exists, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>names()</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.names"></a>
    <div class="doc doc-contents first">

        <p>Get a list of all registered client names.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="n">names</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">names</span><span class="p">()</span>
</code></pre></div>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[str]: List of registered client names.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>list_clients()</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.list_clients"></a>
    <div class="doc doc-contents first">

        <p>List all registered client names.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="n">clients</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">list_clients</span><span class="p">()</span>
</code></pre></div>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[str]: List of registered client names.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>get(name='default')</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.get"></a>
    <div class="doc doc-contents first">

        <p>Retrieve a registered MCP client by name.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="n">client</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the client to retrieve.</p>
              </div>
            </td>
            <td>
                  <code>&#39;default&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>MCPClientProtocol</code></td>            <td>
                  <code><span title="aethergraph.contracts.services.mcp.MCPClientProtocol">MCPClientProtocol</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The registered client.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="KeyError">KeyError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the client is not found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>open(name)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.open"></a>
    <div class="doc doc-contents first">

        <p>Open the connection for a specific MCP client.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the client to open.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>close(name)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.close"></a>
    <div class="doc doc-contents first">

        <p>Close the connection for a specific MCP client.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the client to close.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>open_all()</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.open_all"></a>
    <div class="doc doc-contents first">

        <p>Open all registered MCP client connections.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">open_all</span><span class="p">()</span>
</code></pre></div>


    </div>

</div></details>
<details class="quote">
<summary>close_all()</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.close_all"></a>
    <div class="doc doc-contents first">

        <p>Close all registered MCP client connections.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">close_all</span><span class="p">()</span>
</code></pre></div>


    </div>

</div></details>
<details class="quote">
<summary>call(name, tool, params=None)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.call"></a>
    <div class="doc doc-contents first">

        <p>Call a tool on a specific MCP client, opening the connection if needed.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the client to use.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tool</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tool name to call.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>params</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional dictionary of parameters for the tool.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict[str, Any]: The result from the tool call.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>list_tools(name)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.list_tools"></a>
    <div class="doc doc-contents first">

        <p>List all tools available on a specific MCP client.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="n">tools</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">list_tools</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the client.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="aethergraph.contracts.services.mcp.MCPTool">MCPTool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[MCPTool]: List of available tools.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>list_resources(name)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.list_resources"></a>
    <div class="doc doc-contents first">

        <p>List all resources available on a specific MCP client.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="n">resources</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">list_resources</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the client.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="aethergraph.contracts.services.mcp.MCPResource">MCPResource</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[MCPResource]: List of available resources.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>read_resource(name, uri)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.read_resource"></a>
    <div class="doc doc-contents first">

        <p>Read a resource from a specific MCP client.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">read_resource</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;resource://foo/bar&quot;</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the client.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>uri</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The URI of the resource to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict[str, Any]: The resource data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>set_header(name, key, value)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.set_header"></a>
    <div class="doc doc-contents first">

        <p>Set or override a header for a websocket client at runtime.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">set_header</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;Authorization&quot;</span><span class="p">,</span> <span class="s2">&quot;Bearer token&quot;</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the client.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The header key.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The header value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the client does not support headers.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>persist_secret(secret_name, value)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.mcp.service.MCPService.persist_secret"></a>
    <div class="doc doc-contents first">

        <p>Persist a secret using the configured secrets provider.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span><span class="o">.</span><span class="n">persist_secret</span><span class="p">(</span><span class="s2">&quot;API_KEY&quot;</span><span class="p">,</span> <span class="s2">&quot;my-secret-value&quot;</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>secret_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the secret.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value to persist.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the secrets provider is not writable.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<hr />
<h2 id="registering-clients-after-sidecar-starts">Registering Clients (after sidecar starts)<a class="headerlink" href="#registering-clients-after-sidecar-starts" title="Permanent link">&para;</a></h2>
<p>Start the sidecar, then register one or more MCP clients:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph</span><span class="w"> </span><span class="kn">import</span> <span class="n">start_server</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph.runtime</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_mcp_client</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph.plugins.mcp</span><span class="w"> </span><span class="kn">import</span> <span class="n">StdioMCPClient</span><span class="p">,</span> <span class="n">WsMCPClient</span><span class="p">,</span> <span class="n">HttpMCPClient</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>

<span class="c1"># 1) Start sidecar (choose your port/logging as you prefer)</span>
<span class="n">start_server</span><span class="p">(</span><span class="n">port</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># 2) Register a local stdio MCP (no auth/network)</span>
<span class="n">register_mcp_client</span><span class="p">(</span>
    <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="n">client</span><span class="o">=</span><span class="n">StdioMCPClient</span><span class="p">(</span><span class="n">cmd</span><span class="o">=</span><span class="p">[</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="p">,</span> <span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;aethergraph.plugins.mcp.fs_server&quot;</span><span class="p">]),</span>
<span class="p">)</span>

<span class="c1"># 3) (Optional) Register a WebSocket MCP</span>
<span class="n">register_mcp_client</span><span class="p">(</span>
    <span class="s2">&quot;ws&quot;</span><span class="p">,</span>
    <span class="n">client</span><span class="o">=</span><span class="n">WsMCPClient</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="s2">&quot;wss://mcp.example.com/ws&quot;</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer &lt;token&gt;&quot;</span><span class="p">},</span>
        <span class="n">timeout</span><span class="o">=</span><span class="mf">60.0</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="c1"># 4) (Optional) Register an HTTP MCP</span>
<span class="n">register_mcp_client</span><span class="p">(</span>
    <span class="s2">&quot;http&quot;</span><span class="p">,</span>
    <span class="n">client</span><span class="o">=</span><span class="n">HttpMCPClient</span><span class="p">(</span>
        <span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;https://mcp.example.com/api&quot;</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer &lt;token&gt;&quot;</span><span class="p">},</span>
        <span class="n">timeout</span><span class="o">=</span><span class="mf">60.0</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>Client types:</strong></p>
<ul>
<li><strong><code>StdioMCPClient(cmd, env=None, timeout=60.0)</code></strong> – JSON‑RPC over stdio to a subprocess.</li>
<li><strong><code>WsMCPClient(url, headers=None, timeout=60.0, ping_interval=20.0, ping_timeout=10.0)</code></strong> – JSON‑RPC over WebSocket.</li>
<li><strong><code>HttpMCPClient(base_url, headers=None, timeout=60.0)</code></strong> – JSON‑RPC over HTTP.</li>
</ul>
<hr />
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="c1"># Get tool list and call a tool</span>
<span class="n">mcp</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">mcp</span><span class="p">()</span>

<span class="n">tools</span> <span class="o">=</span> <span class="k">await</span> <span class="n">mcp</span><span class="o">.</span><span class="n">list_tools</span><span class="p">(</span><span class="s2">&quot;local&quot;</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="k">await</span> <span class="n">mcp</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;local&quot;</span><span class="p">,</span> <span class="n">tool</span><span class="o">=</span><span class="s2">&quot;fs.read_text&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;/etc/hosts&quot;</span><span class="p">})</span>

<span class="c1"># Read a resource listing from WS backend</span>
<span class="k">await</span> <span class="n">mcp</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;ws&quot;</span><span class="p">)</span>
<span class="n">resources</span> <span class="o">=</span> <span class="k">await</span> <span class="n">mcp</span><span class="o">.</span><span class="n">list_resources</span><span class="p">(</span><span class="s2">&quot;ws&quot;</span><span class="p">)</span>

<span class="c1"># Set a header on the WS client (e.g., late‑bound token)</span>
<span class="n">mcp</span><span class="o">.</span><span class="n">set_header</span><span class="p">(</span><span class="s2">&quot;ws&quot;</span><span class="p">,</span> <span class="s2">&quot;Authorization&quot;</span><span class="p">,</span> <span class="s2">&quot;Bearer NEW_TOKEN&quot;</span><span class="p">)</span>

<span class="c1"># Clean up</span>
<span class="k">await</span> <span class="n">mcp</span><span class="o">.</span><span class="n">close_all</span><span class="p">()</span>
</code></pre></div>
<p><strong>Notes:</strong></p>
<ul>
<li>Clients lazy‑open for operations; you may still call <code>open()</code> explicitly.</li>
<li>Errors from the server propagate; inspect tool/resource contracts on the MCP server side for required params and shapes.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../context-rag/" class="md-footer__link md-footer__link--prev" aria-label="Previous: context.rag()">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                context.rag()
              </div>
            </div>
          </a>
        
        
          
          <a href="../context-viz/" class="md-footer__link md-footer__link--next" aria-label="Next: context.viz()">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                context.viz()
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.sections", "navigation.expand", "navigation.instant", "toc.integrate", "search.suggest", "search.highlight", "navigation.footer"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=JetBrains+Mono:wght@400;500;700&amp;display=swap"></script>
      
    
  </body>
</html>