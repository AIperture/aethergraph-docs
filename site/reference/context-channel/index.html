
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A Python-first agentic framework for R&D workflows — graph_fn, Context services, Tools, Graphify.">
      
      
        <meta name="author" content="AIperture">
      
      
        <link rel="canonical" href="https://your-domain.com/reference/context-channel/">
      
      
        <link rel="prev" href="../runner-api/">
      
      
        <link rel="next" href="../context-artifacts/">
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>context.channel() - AetherGraph</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../assets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="aether-light" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#contextchannel-channelsession-api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AetherGraph" class="md-header__button md-logo" aria-label="AetherGraph" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AetherGraph
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              context.channel()
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="aether-light" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="aether-dark" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/AIperture/aethergraph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    AIperture/aethergraph
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AetherGraph" class="md-nav__button md-logo" aria-label="AetherGraph" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    AetherGraph
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/AIperture/aethergraph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    AIperture/aethergraph
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quickstart
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Key Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Key Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/agent-via-graph-fn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent via Graph Function
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/context-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context Services Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/channels-interaction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Channels and Interaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/artifacts-memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Artifacts and Memory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/other-services-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other Services Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/extending-context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extending Context
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/static-graph-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Static Graph Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/server-start-sidecar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sidecar Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../key-concepts/concurrency-orchestration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Concurrency and Orchestration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t1-build-your-first-graph-fn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Building Your First Graph Function Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t2-static-graph-with-graphify/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. Static Graph with Graphify
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t3-talk-to-your-graph-channels-waits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Talk to Your Graph - Channels & Wait Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t4-store-recall-artifacts-memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Store and Recall - Artifacts & Memory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t5-add-intelligence-llm-rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5. Add Intelligence - LLM & RAG
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t6-use-external-tools-mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6. Use External Tools - MCP Example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/t7-extend-runtime-custom-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7. Plug In Your World - Custom Services
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/example-list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Example List
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Graph API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            Graph API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graph-tool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    tool decorator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graphify-graphfn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    graph decorator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graph-task-graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TaskGraph
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Runner API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Runner API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runner-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    run & run_async
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" checked>
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Context API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Context API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    context.channel()
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    context.channel()
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#channel-resolution-defaults" class="md-nav__link">
    <span class="md-ellipsis">
      Channel Resolution &amp; Defaults
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0-channel-setup" class="md-nav__link">
    <span class="md-ellipsis">
      0. Channel Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.core.runtime.node_context.NodeContext.channel" class="md-nav__link">
    <span class="md-ellipsis">
      channel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.core.runtime.node_context.NodeContext.ui_run_channel" class="md-nav__link">
    <span class="md-ellipsis">
      ui_run_channel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.core.runtime.node_context.NodeContext.ui_session_channel" class="md-nav__link">
    <span class="md-ellipsis">
      ui_session_channel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-send-methods" class="md-nav__link">
    <span class="md-ellipsis">
      1. Send Methods
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.channel.session.ChannelSession.send" class="md-nav__link">
    <span class="md-ellipsis">
      send
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.channel.session.ChannelSession.send_text" class="md-nav__link">
    <span class="md-ellipsis">
      send_text
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.channel.session.ChannelSession.send_image" class="md-nav__link">
    <span class="md-ellipsis">
      send_image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.channel.session.ChannelSession.send_file" class="md-nav__link">
    <span class="md-ellipsis">
      send_file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.channel.session.ChannelSession.send_buttons" class="md-nav__link">
    <span class="md-ellipsis">
      send_buttons
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-ask-methods" class="md-nav__link">
    <span class="md-ellipsis">
      2. Ask Methods
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.channel.session.ChannelSession.ask_text" class="md-nav__link">
    <span class="md-ellipsis">
      ask_text
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.channel.session.ChannelSession.wait_text" class="md-nav__link">
    <span class="md-ellipsis">
      wait_text
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.channel.session.ChannelSession.ask_approval" class="md-nav__link">
    <span class="md-ellipsis">
      ask_approval
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.channel.session.ChannelSession.ask_files" class="md-nav__link">
    <span class="md-ellipsis">
      ask_files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-streaming" class="md-nav__link">
    <span class="md-ellipsis">
      3. Streaming
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.channel.session.ChannelSession.stream" class="md-nav__link">
    <span class="md-ellipsis">
      stream
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      4. Utilities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aethergraph.services.channel.session.ChannelSession.get_latest_uploads" class="md-nav__link">
    <span class="md-ellipsis">
      get_latest_uploads
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-artifacts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.artifacts()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.memory()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-logger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.logger()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-kv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.kv()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-llm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.llm()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.rag()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.mcp()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-viz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context.viz()
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context run management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-extension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context extension
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-adhoc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context outside graph
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Runtime API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Runtime API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    runtime server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    runtime services
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Built-in @tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Built-in @tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tool-channel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    channel tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Use Aethergraph UI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            Use Aethergraph UI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Start the server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/agents-apps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agents & Apps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/ui-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Notes & troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../llm-setup/llm-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Channel Setup
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Channel Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Channels Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/console-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Console Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/slack-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slack Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/telegram-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Telegram Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/webhook-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Webhook Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channel-setup/file-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Setup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="contextchannel-channelsession-api-reference"><code>context.channel()</code> – ChannelSession API Reference<a class="headerlink" href="#contextchannel-channelsession-api-reference" title="Permanent link">&para;</a></h1>
<p>A <code>ChannelSession</code> provides message I/O, user prompts, streaming text, and progress updates through the configured channel (console/Slack/…). It also manages continuation tokens to avoid race conditions.</p>
<hr />
<h2 id="channel-resolution-defaults">Channel Resolution &amp; Defaults<a class="headerlink" href="#channel-resolution-defaults" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Channel selection priority:</strong> explicit <code>channel</code> arg → session override (from <code>context.channel(channel_key)</code>) → bus default → <code>console:stdin</code>.</li>
<li>Events are published after <strong>alias → canonical</strong> key resolution.</li>
</ul>
<hr />
<h2 id="0-channel-setup">0. Channel Setup<a class="headerlink" href="#0-channel-setup" title="Permanent link">&para;</a></h2>
<details class="quote">
<summary>context.channel(channel_key)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.core.runtime.node_context.NodeContext.channel"></a>
    <div class="doc doc-contents first">

        <p>Set up a new ChannelSession for the current node context.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel_key</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional key to specify a particular channel.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>ChannelSession</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An instance representing the session for the specified channel.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>Supported channel key formats include:</p>
<table>
<thead>
<tr>
<th>Channel Type</th>
<th>Format Example</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Console</td>
<td><code>console:stdin</code></td>
<td>Console input/output</td>
</tr>
<tr>
<td>Slack</td>
<td><code>slack:team/{team_id}:chan/{channel_id}</code></td>
<td>Needs additional configuration</td>
</tr>
<tr>
<td>Telegram</td>
<td><code>tg:chat/{chat_id}</code></td>
<td>Needs additional configuration</td>
</tr>
<tr>
<td>UI Session</td>
<td><code>ui:session/{session_id}</code></td>
<td>Requires AG web UI</td>
</tr>
<tr>
<td>UI Run</td>
<td><code>ui:run/{run_id}</code></td>
<td>Requires AG web UI</td>
</tr>
<tr>
<td>Webhook</td>
<td><code>webhook:{unique_identifier}</code></td>
<td>For Slack, Discord, Zapier, etc.</td>
</tr>
<tr>
<td>File-based channel</td>
<td><code>file:path/to/directory</code></td>
<td>File system based channels</td>
</tr>
</tbody>
</table>
</details>

    </div>

</div></details>
<details class="quote">
<summary>context.ui_run_channel.channel()</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.core.runtime.node_context.NodeContext.ui_run_channel"></a>
    <div class="doc doc-contents first">

        <p>Creates a new ChannelSession for the current node context with session key as
<code>ui:run/&lt;run_id&gt;</code>.</p>
<p>This method is a convenience helper for the AG UI to get the default run channel.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>ChannelSession</code></td>            <td>
                  <code><span title="aethergraph.services.channel.session.ChannelSession">ChannelSession</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The channel session associated with the current run.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>context.ui_session_channel.channel()</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.core.runtime.node_context.NodeContext.ui_session_channel"></a>
    <div class="doc doc-contents first">

        <p>Creates a new ChannelSession for the current node context with session key as
<code>ui:session/&lt;session_id&gt;</code>.</p>
<p>This method is a convenience helper for the AG UI to get the default session channel.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>ChannelSession</code></td>            <td>
                  <code><span title="aethergraph.services.channel.session.ChannelSession">ChannelSession</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The channel session associated with the current session.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<h2 id="1-send-methods">1. Send Methods<a class="headerlink" href="#1-send-methods" title="Permanent link">&para;</a></h2>
<details class="quote">
<summary>send(event, *, channel)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.channel.session.ChannelSession.send"></a>
    <div class="doc doc-contents first">

        <p>Send a single outbound event to the configured channel.</p>
<p>This method ensures the event is associated with the correct channel,
merges context-derived metadata, and publishes the event via the channel bus.
This is the core low-level send method; higher-level convenience methods
(e.g., <code>send_text</code>, <code>send_rich</code>, etc.) build on top of this and are recommended
for common use cases.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to send a pre-constructed event:
<div class="highlight"><pre><span></span><code><span class="n">event</span> <span class="o">=</span> <span class="n">OutEvent</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;agent.message&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hello!&quot;</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</code></pre></div></p>
<p>Sending to a specific channel:
<div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="s2">&quot;web:chat&quot;</span><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>event</code>
            </td>
            <td>
                  <code><span title="aethergraph.contracts.services.channel.OutEvent">OutEvent</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>OutEvent</code> instance to send. If <code>event.channel</code> is not set,
it will be resolved automatically.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional explicit channel key to override the default or event's channel.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Notes:
for AG WebUI, you can set meta with
<div class="highlight"><pre><span></span><code>    <span class="p">{</span>
        <span class="s2">&quot;agent_id&quot;</span><span class="p">:</span> <span class="s2">&quot;agent-123&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Analyst&quot;</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div>
to override the sender's display name and avatar in the chat.</p>


    </div>

</div></details>
<details class="quote">
<summary>send_text(text, *, meta, channel)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.channel.session.ChannelSession.send_text"></a>
    <div class="doc doc-contents first">

        <p>Send a plain text message to the configured channel.</p>
<p>This method constructs a normalized outbound event, merges context-derived metadata,
and dispatches the message via the channel bus.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to send a text message:
<div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">send_text</span><span class="p">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p>Sending with additional metadata and to a specific channel:
<div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">send_text</span><span class="p">(</span>
    <span class="s2">&quot;Status update.&quot;</span><span class="p">,</span>
    <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;high&quot;</span><span class="p">},</span>
    <span class="n">channel</span><span class="o">=</span><span class="s2">&quot;web:chat&quot;</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The primary text content to send.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>meta</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional dictionary of metadata to include with the event.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional explicit channel key to override the default or session-bound channel.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Notes:
for AG WebUI, you can set meta with
<div class="highlight"><pre><span></span><code>    <span class="p">{</span>
        <span class="s2">&quot;agent_id&quot;</span><span class="p">:</span> <span class="s2">&quot;agent-123&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Analyst&quot;</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></p>


    </div>

</div></details>
<details class="quote">
<summary>send_image(url, *, alt, title, channel)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.channel.session.ChannelSession.send_image"></a>
    <div class="doc doc-contents first">

        <p>Send an image message to the configured channel.</p>
<p>This method constructs and dispatches an outbound event containing image metadata,
including the image URL, alternative text, and an optional title. Context-derived
metadata is automatically merged, and the event is published via the channel bus.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to send an image:
<div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">send_image</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://example.com/image.png&quot;</span><span class="p">,</span>
    <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;Sample image&quot;</span>
<span class="p">)</span>
</code></pre></div></p>
<p>Sending with a custom title and to a specific channel:
<div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">send_image</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://example.com/photo.jpg&quot;</span><span class="p">,</span>
    <span class="n">alt</span><span class="o">=</span><span class="s2">&quot;User profile photo&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Profile&quot;</span><span class="p">,</span>
    <span class="n">channel</span><span class="o">=</span><span class="s2">&quot;web:chat&quot;</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>url</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The URL of the image to send. If None, an empty string is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alt</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Alternative text describing the image (for accessibility).</p>
              </div>
            </td>
            <td>
                  <code>&#39;image&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>title</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional title to display with the image.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional explicit channel key to override the default or session-bound channel.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>The capability to render images depends on the client adapter.</p>
</details>

    </div>

</div></details>
<details class="quote">
<summary>send_file(url, *, file_bytes, filename, title, channel)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.channel.session.ChannelSession.send_file"></a>
    <div class="doc doc-contents first">

        <p>Send a file to the configured channel in a normalized format.</p>
<p>This method constructs and dispatches an outbound event containing file metadata,
including the file URL, raw bytes, filename, and an optional title. Context-derived
metadata is automatically merged, and the event is published via the channel bus.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to send a file by URL:
<div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://example.com/report.pdf&quot;</span><span class="p">,</span>
    <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;report.pdf&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Monthly Report&quot;</span>
<span class="p">)</span>
</code></pre></div></p>
<p>Sending a file from bytes:
<div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">send_file</span><span class="p">(</span>
    <span class="n">file_bytes</span><span class="o">=</span><span class="sa">b</span><span class="s2">&quot;binarydata...&quot;</span><span class="p">,</span>
    <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;data.bin&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Raw Data&quot;</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>url</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The URL of the file to send. If None, only file_bytes will be used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>file_bytes</code>
            </td>
            <td>
                  <code><span title="bytes">bytes</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional raw bytes of the file to send.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filename</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The display name of the file (defaults to "file.bin").</p>
              </div>
            </td>
            <td>
                  <code>&#39;file.bin&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>title</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional title to display with the file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional explicit channel key to override the default or session-bound channel.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>The capability to handle file uploads depends on the client adapter.
If both <code>url</code> and <code>file_bytes</code> are provided, both will be included in the event.</p>
</details>

    </div>

</div></details>
<details class="quote">
<summary>send_buttons(text, buttons, *, meta, channel)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.channel.session.ChannelSession.send_buttons"></a>
    <div class="doc doc-contents first">

        <p>Send a message with interactive buttons to the configured channel.</p>
<p>This method constructs and dispatches an outbound event containing a text prompt and a list of interactive buttons. Context-derived metadata is automatically merged, and the event is published via the channel bus.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to send a button prompt:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">aethergraph</span><span class="w"> </span><span class="kn">import</span> <span class="n">Button</span>
<span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">send_buttons</span><span class="p">(</span>
    <span class="s2">&quot;Choose an option:&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="n">Button</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Yes&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span><span class="p">),</span> <span class="n">Button</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;No&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;no&quot;</span><span class="p">)]</span>
<span class="p">)</span>
</code></pre></div></p>
<p>Sending with additional metadata and to a specific channel:
<div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">send_buttons</span><span class="p">(</span>
    <span class="s2">&quot;Select your role:&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="n">Button</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Admin&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;admin&quot;</span><span class="p">),</span> <span class="n">Button</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;User&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">)],</span>
    <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;high&quot;</span><span class="p">},</span>
    <span class="n">channel</span><span class="o">=</span><span class="s2">&quot;web:chat&quot;</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The primary text content to display above the buttons.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>buttons</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="aethergraph.contracts.services.channel.Button">Button</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <code>Button</code> objects representing the interactive options.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>meta</code>
            </td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional dictionary of metadata to include with the event.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional explicit channel key to override the default or session-bound channel.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<h2 id="2-ask-methods">2. Ask Methods<a class="headerlink" href="#2-ask-methods" title="Permanent link">&para;</a></h2>
<p>Ask method automatic implemented continuation so that the agent will resume running when triggered from external channels. </p>
<details class="quote">
<summary>ask_text(prompt, *, timeout_s, silent, channel)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.channel.session.ChannelSession.ask_text"></a>
    <div class="doc doc-contents first">

        <p>Prompt the user for a text response in a normalized format.</p>
<p>This method sends a prompt to the configured channel, waits for a user reply, and returns the text input.
It automatically handles context metadata, timeout, and channel resolution.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to prompt for user input:
<div class="highlight"><pre><span></span><code><span class="n">reply</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">ask_text</span><span class="p">(</span><span class="s2">&quot;What is your name?&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p>Prompting with a custom timeout and silent mode:
<div class="highlight"><pre><span></span><code><span class="n">reply</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">ask_text</span><span class="p">(</span>
    <span class="s2">&quot;Enter your feedback.&quot;</span><span class="p">,</span>
    <span class="n">timeout_s</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
    <span class="n">silent</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>prompt</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text prompt to display to the user. If None, a generic prompt may be shown.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>timeout_s</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum time in seconds to wait for a response (default: 3600).</p>
              </div>
            </td>
            <td>
                  <code>3600</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>silent</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, suppresses prompt display in some adapters (back-compat; default: False).</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional explicit channel key to override the default or session-bound channel.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The user's text response, or an empty string if no input was received.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>wait_text(*, timeout_s, silent, channel)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.channel.session.ChannelSession.wait_text"></a>
    <div class="doc doc-contents first">

        <p>Wait for a single text response from the user in a normalized format.</p>
<p>This method prompts the user for input (with no explicit prompt), waits for a reply,
and returns the text. It automatically handles context metadata, timeout, and channel resolution.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to wait for user input:
<div class="highlight"><pre><span></span><code><span class="n">reply</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">wait_text</span><span class="p">()</span>
</code></pre></div></p>
<p>Waiting with a custom timeout and specific channel:
<div class="highlight"><pre><span></span><code><span class="n">reply</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">wait_text</span><span class="p">(</span>
    <span class="n">timeout_s</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
    <span class="n">channel</span><span class="o">=</span><span class="s2">&quot;web:chat&quot;</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>timeout_s</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum time in seconds to wait for a response (default: 3600).</p>
              </div>
            </td>
            <td>
                  <code>3600</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional explicit channel key to override the default or session-bound channel.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The user's text response, or an empty string if no input was received.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>
<details class="quote">
<summary>ask_approval(prompt, options, *, timeout_s, channel)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.channel.session.ChannelSession.ask_approval"></a>
    <div class="doc doc-contents first">

        <p>Prompt the user for approval or rejection in a normalized format.</p>
<p>This method sends an approval prompt with customizable options (buttons) to the configured channel,
waits for the user's selection, and returns a normalized result indicating approval status and choice.
Context metadata, timeout, and channel resolution are handled automatically.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to prompt for approval:
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">ask_approval</span><span class="p">(</span><span class="s2">&quot;Do you approve this action?&quot;</span><span class="p">)</span>
<span class="c1"># result: { &quot;approved&quot;: True/False, &quot;choice&quot;: &quot;Approve&quot;/&quot;Reject&quot; }</span>
</code></pre></div></p>
<p>Prompting with custom options and timeout:
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">ask_approval</span><span class="p">(</span>
    <span class="s2">&quot;Proceed with deployment?&quot;</span><span class="p">,</span>
    <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Yes&quot;</span><span class="p">,</span> <span class="s2">&quot;No&quot;</span><span class="p">,</span> <span class="s2">&quot;Defer&quot;</span><span class="p">],</span>
    <span class="n">timeout_s</span><span class="o">=</span><span class="mi">120</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>prompt</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text prompt to display to the user.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>options</code>
            </td>
            <td>
                  <code><span title="collections.abc.Iterable">Iterable</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Iterable of button labels for user choices (defaults to "Approve" and "Reject").</p>
              </div>
            </td>
            <td>
                  <code>(&#39;Approve&#39;, &#39;Reject&#39;)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>timeout_s</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum time in seconds to wait for a response (default: 3600).</p>
              </div>
            </td>
            <td>
                  <code>3600</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional explicit channel key to override the default or session-bound channel.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing:
- "approved": bool indicating if the <strong>first</strong> option was selected (True if approved, False otherwise).
- "choice": The label of the button selected by the user (str or None).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="warning" open>
  <summary>Warning</summary>
  <p>The returned "choices" are determined by the external adapter and may vary. To be robust, make sure
to use <code>choices.lower()</code> and strip whitespace when comparing.</p>
</details>

    </div>

</div></details>
<details class="quote">
<summary>ask_files(prompt, *, accept, multiple, timeout_s, channel)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.channel.session.ChannelSession.ask_files"></a>
    <div class="doc doc-contents first">

        <p>Prompt the user to upload one or more files, optionally with a text comment.</p>
<p>This method sends a file upload request to the configured channel, allowing the user to select files
and optionally enter accompanying text. The <code>accept</code> parameter provides hints to the client UI about
which file types are preferred, but is not enforced server-side. The method waits for the user's response
and returns a normalized result containing both text and file references.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to prompt for file upload:
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">ask_files</span><span class="p">(</span>
    <span class="n">prompt</span><span class="o">=</span><span class="s2">&quot;Please upload your report.&quot;</span>
<span class="p">)</span>
<span class="c1"># result: { &quot;text&quot;: &quot;...&quot;, &quot;files&quot;: [FileRef(...), ...] }</span>
</code></pre></div></p>
<p>Restricting to images and allowing multiple files:
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">ask_files</span><span class="p">(</span>
    <span class="n">prompt</span><span class="o">=</span><span class="s2">&quot;Upload images for review.&quot;</span><span class="p">,</span>
    <span class="n">accept</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;image/png&quot;</span><span class="p">,</span> <span class="s2">&quot;.jpg&quot;</span><span class="p">],</span>
    <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>prompt</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text prompt to display to the user above the file picker.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>accept</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="str">str</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional list of MIME types or file extensions to suggest allowed file types (e.g., "image/png", ".pdf", ".jpg").</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>multiple</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, allows the user to select multiple files (default: True).</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>timeout_s</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum time in seconds to wait for a response (default: 3600).</p>
              </div>
            </td>
            <td>
                  <code>3600</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional explicit channel key to override the default or session-bound channel.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing:
- "text": str, the user's comment or description (may be empty).
- "files": List[FileRef], references to the uploaded files (empty if none).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>On console adapters, file upload is not supported; only text will be returned.
The <code>accept</code> parameter is a UI hint and does not guarantee file type enforcement.</p>
</details>

    </div>

</div></details>
<h2 id="3-streaming">3. Streaming<a class="headerlink" href="#3-streaming" title="Permanent link">&para;</a></h2>
<details class="quote">
<summary>stream(channel)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.channel.session.ChannelSession.stream"></a>
    <div class="doc doc-contents first">

        <p>Stream a sequence of text deltas to the configured channel in a normalized format.</p>
<p>This method provides a context manager for streaming incremental message updates (such as LLM generation)
to the target channel. It automatically handles context metadata, upsert keys, and dispatches start, update,
and end events to the channel bus. The caller is responsible for sending deltas and ending the stream.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to stream LLM output:
<div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">with</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">s</span><span class="o">.</span><span class="n">delta</span><span class="p">(</span><span class="s2">&quot;Hello, &quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">s</span><span class="o">.</span><span class="n">delta</span><span class="p">(</span><span class="s2">&quot;world!&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">s</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</code></pre></div></p>
<p>Streaming to a specific channel:
<div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">with</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="s2">&quot;web:chat&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">s</span><span class="o">.</span><span class="n">delta</span><span class="p">(</span><span class="s2">&quot;Generating results...&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">s</span><span class="o">.</span><span class="n">end</span><span class="p">(</span><span class="n">full_text</span><span class="o">=</span><span class="s2">&quot;Results complete.&quot;</span><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional explicit channel key to target a specific channel for this stream.
If None, uses the session-bound or default channel.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="collections.abc.AsyncIterator">AsyncIterator</span>[<span title="aethergraph.services.channel.session.ChannelSession._StreamSender">_StreamSender</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>AsyncIterator[_StreamSender]: An async context manager yielding a <code>_StreamSender</code> object
for sending deltas and ending the stream.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>The caller must explicitly call <code>end()</code> to finalize the stream. No auto-end is performed.
The adapter may have specific behaviors for rendering streamed content (update vs. append).</p>
</details>

    </div>

</div></details>
<h2 id="4-utilities">4. Utilities<a class="headerlink" href="#4-utilities" title="Permanent link">&para;</a></h2>
<details class="quote">
<summary>get_latest_uploads(*, clear)</summary>


<div class="doc doc-object doc-function">



<a id="aethergraph.services.channel.session.ChannelSession.get_latest_uploads"></a>
    <div class="doc doc-contents first">

        <p>Retrieve the latest uploaded files from this channel's inbox in a normalized format.</p>
<p>This method accesses the ephemeral KV store to fetch file uploads associated with the current channel.
By default, it clears the inbox after retrieval to prevent duplicate processing. If the KV service
is unavailable in the context, a RuntimeError is raised. This method allows the fetch the files user
uploaded <strong>not</strong> from an ask_files prompt, but from any prior upload event.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage to fetch and clear uploaded files:
<div class="highlight"><pre><span></span><code><span class="n">files</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">get_latest_uploads</span><span class="p">()</span>
</code></pre></div></p>
<p>Fetching files without clearing the inbox:
<div class="highlight"><pre><span></span><code><span class="n">files</span> <span class="o">=</span> <span class="k">await</span> <span class="n">context</span><span class="o">.</span><span class="n">channel</span><span class="p">()</span><span class="o">.</span><span class="n">get_latest_uploads</span><span class="p">(</span><span class="n">clear</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>clear</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True (default), removes files from the inbox after retrieval.
If False, files are returned but remain in the inbox.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="aethergraph.contracts.services.channel.FileRef">FileRef</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[FileRef]: A list of <code>FileRef</code> objects representing the uploaded files.
Returns an empty list if no files are present.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the ephemeral KV service is not available in the current context.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div></details>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../runner-api/" class="md-footer__link md-footer__link--prev" aria-label="Previous: run &amp; run_async">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                run & run_async
              </div>
            </div>
          </a>
        
        
          
          <a href="../context-artifacts/" class="md-footer__link md-footer__link--next" aria-label="Next: context.artifacts()">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                context.artifacts()
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.sections", "navigation.expand", "navigation.instant", "toc.integrate", "search.suggest", "search.highlight", "navigation.footer"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=JetBrains+Mono:wght@400;500;700&amp;display=swap"></script>
      
    
  </body>
</html>